# ğŸ¯ User-Friendly Clash.Meta Config with Friendly Group Names

# ğŸ”Œ Main settings
mixed-port: 7890
redir-port: 7892
allow-lan: true
bind-address: 0.0.0.0
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
ipv6: true

# ğŸŒ Profile & DNS
profile:
  store-selected: true
  store-fake-ip: true
  store-resolve-cache: true

dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.0/15
  fake-ip-filter:
    - geosite:category-ads-all
    - domain:ir
    - domain-suffix:tracking
  nameserver:
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
    - 1.1.1.1
    - 1.0.0.1
  fallback:
    - 1.0.0.1
    - 8.8.8.8
  default-nameserver:
    - 1.1.1.1

# âš¡ Proxies (fragmentation, UDP noise, remote nodes)
proxies:
  - name: âš¡ Frag Hello
    type: direct
    tcp-fragment:
      packets: "tlshello"
      length: "6"
      interval: "0"
      maxSplit: 6

  - name: ğŸŸ¢ Frag Small 1
    type: direct
    tcp-fragment:
      packets: "1-1"
      length: "1"
      interval: "1"
      maxSplit: 517

  - name: ğŸŸ¡ Frag Mid
    type: direct
    tcp-fragment:
      packets: "2-4"
      length: "64"
      interval: "1"
      maxSplit: 200

  - name: ğŸ”— Chain Skip
    type: direct
    tcp-fragment:
      packets: "1-1"
      length: "130"
      interval: "190"
      maxSplit: 4
    dialer-proxy: Chain Next

  - name: ğŸ”— Chain Next
    type: direct
    tcp-fragment:
      packets: "2-4"
      length: "1"
      interval: "1"
      maxSplit: 130
    dialer-proxy: Chain Final

  - name: ğŸ”— Chain Final
    type: direct
    tcp-fragment:
      packets: "1-1"
      length: "1"
      interval: "1"
      maxSplit: 517

  - name: ğŸŒŠ UDP Noise v4
    type: direct
    udp-noise:
      targetStrategy: ForceIP
      noises:
        - type: rand
          packet: 1250
          delay: 10
          applyTo: ipv4

  - name: ğŸŒŠ UDP Noise v6
    type: direct
    udp-noise:
      targetStrategy: ForceIP
      noises:
        - type: rand
          packet: 1230
          delay: 10
          applyTo: ipv6

  - name: ğŸŸ¢ Direct
    type: direct

  - name: âŒ Block
    type: reject

  - name: ğŸŒ Remote VMess 1
    type: vmess
    server: example.com
    port: 443
    uuid: REPLACE-UUID-1
    alterId: 0
    cipher: auto
    tls: true
    network: ws
    ws-opts:
      path: "/"
      headers:
        Host: example.com

  - name: ğŸŒ Remote VMess 2
    type: vmess
    server: example2.com
    port: 443
    uuid: REPLACE-UUID-2
    alterId: 0
    cipher: auto
    tls: true
    network: ws
    ws-opts:
      path: "/"
      headers:
        Host: example2.com

# ğŸ›ï¸ Friendly Proxy Groups
proxy-groups:
  - name: âš¡ Frag Round-Robin
    type: load-balance
    strategy: round-robin
    interval: 300
    proxies:
      - âš¡ Frag Hello
      - ğŸŸ¢ Frag Small 1
      - ğŸŸ¡ Frag Mid

  - name: ğŸ”— Frag Chain LB
    type: load-balance
    strategy: consistent-hashing
    interval: 180
    proxies:
      - ğŸ”— Chain Skip
      - ğŸ”— Chain Next
      - ğŸ”— Chain Final

  - name: ğŸŒŠ UDP Noise Group
    type: load-balance
    strategy: round-robin
    proxies:
      - ğŸŒŠ UDP Noise v4
      - ğŸŒŠ UDP Noise v6

  - name: ğŸŒ Remote Fallbacks
    type: load-balance
    strategy: sticky-sessions
    interval: 60
    proxies:
      - ğŸŒ Remote VMess 1
      - ğŸŒ Remote VMess 2
      - ğŸŸ¢ Direct

  - name: ğŸ† Super Chain Selector
    type: select
    proxies:
      - âš¡ Frag Round-Robin
      - ğŸ”— Frag Chain LB
      - ğŸŒ Remote Fallbacks
      - ğŸŸ¢ Direct

  - name: ğŸ¬ YouTube Heavy
    type: load-balance
    strategy: consistent-hashing
    sticky: true
    proxies:
      - ğŸ”— Frag Chain LB
      - âš¡ Frag Round-Robin
      - ğŸŒ Remote Fallbacks

  - name: ğŸ”§ Default Group
    type: select
    proxies:
      - ğŸ† Super Chain Selector
      - ğŸŒŠ UDP Noise Group
      - ğŸŸ¢ Direct
      - âŒ Block

# ğŸ“œ Rules (user-friendly)
rules:
  - DST-PORT,53,ğŸŸ¢ Direct        # ğŸ  Local DNS
  - GEOIP,private,ğŸŸ¢ Direct      # ğŸ  Private IPs / LAN
  - DOMAIN-KEYWORD,ads,âŒ Block   # ğŸš« Ads
  - DOMAIN-KEYWORD,tracking,âŒ Block

  # ğŸ¥ Streaming / heavy traffic
  - DOMAIN-SUFFIX,youtube.com,ğŸ¬ YouTube Heavy
  - DOMAIN-SUFFIX,googlevideo.com,ğŸ¬ YouTube Heavy
  - DOMAIN-SUFFIX,youtu.be,ğŸ¬ YouTube Heavy

  # ğŸ“± Socials / CDN
  - DOMAIN-SUFFIX,facebook.com,ğŸ”— Frag Chain LB
  - DOMAIN-SUFFIX,instagram.com,ğŸ”— Frag Chain LB
  - DOMAIN-SUFFIX,reddit.com,ğŸ”— Frag Chain LB
  - DOMAIN-SUFFIX,cdn.cloudflare.com,ğŸ”— Frag Chain LB

  # ğŸŒŠ UDP / QUIC
  - NETWORK,udp,ğŸŒŠ UDP Noise Group
  - DST-PORT,443,ğŸŒŠ UDP Noise Group
  - DST-PORT,2053,ğŸŒŠ UDP Noise Group
  - DST-PORT,8443,ğŸŒŠ UDP Noise Group

  # ğŸ”„ Default fallback
  - MATCH,ğŸ”§ Default Group
